<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- 1990년 이후 이 페이지의 캐시를 만료시킴. -->
    <meta http-equiv="Expires" content="Mon, 06 Jan 1990 00:00:01 GMT" />
    <!-- 캐시를 바로 만료시킴. -->
    <meta http-equiv="Expires" content="-1" />
    <!-- 페이지 로드시마다 페이지를 캐싱하지 않음. (HTTP 1.0) -->
    <meta http-equiv="Pragma" content="no-cache" />
    <!-- 페이지 로드시마다 페이지를 캐싱하지 않음. (HTTP 1.1) -->
    <meta http-equiv="Cache-Control" content="no-cache" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
      
        html,
        body {
          width: 100%;
          height: 100%;
          display: flex;
          justify-content: center;
          align-items: center;
          @import url(http://fonts.googleapis.com/earlyaccess/notosanskr.css);
          font-family: 'Noto Sans KR', sans-serif;
        }
        .numbers {
          font-size:  4em;
        }
        .title{
          font-size: 7em;
          font-weight: bold;
        }
    </style>
</head>
<body>
  
  <div>
    <div id="subject" class="title"></div>
    <span id="days" class="numbers"></span>일
    <span id="hours" class="numbers"></span>시간
    <span id="minutes" class="numbers"></span>분
    <span id="seconds" class="numbers"></span>초
  </div>
      
</body>
<script>
/*
{
  d : "2022-12-12"
}
*/



var a = decodeURI( window.location.search );
var _d = Object.fromEntries(new URLSearchParams(location.search));
// var y = _d.d.substr(0,4)
// var m = _d.d.substr(4,2)
// var d = _d.d.substr(6,2)
console.log( "targetDate : ", _d.dt );
if( _d.dt != "" )
{
    var year = new Date().getFullYear();
    var myDate = new Date( _d.dt +" 00:00:00");
    console.log(myDate);

    // countdown
    var timer = setInterval(function() {

      // get today's date
      var today = new Date().getTime();

      // get the difference
      var diff = myDate - today;

      // math
      var days = Math.floor(diff / (1000 * 60 * 60 * 24));
      var hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      var minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      var seconds = Math.floor((diff % (1000 * 60)) / 1000);

      // display
      document.getElementById("subject").innerHTML=_d.t
      document.getElementById("days").innerHTML=days
      document.getElementById("hours").innerHTML=hours
      document.getElementById("minutes").innerHTML=minutes
      document.getElementById("seconds").innerHTML=seconds

    }, 1)
};
</script>
</html>
